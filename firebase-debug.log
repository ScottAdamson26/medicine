[debug] [2024-04-21T13:44:18.763Z] ----------------------------------------------------------------------
[debug] [2024-04-21T13:44:18.765Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2024-04-21T13:44:18.765Z] CLI Version:   13.7.3
[debug] [2024-04-21T13:44:18.765Z] Platform:      win32
[debug] [2024-04-21T13:44:18.766Z] Node Version:  v18.17.1
[debug] [2024-04-21T13:44:18.766Z] Time:          Sun Apr 21 2024 14:44:18 GMT+0100 (British Summer Time)
[debug] [2024-04-21T13:44:18.767Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-21T13:44:18.770Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2024-04-21T13:44:18.847Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-21T13:44:18.848Z] > authorizing via signed-in user (scott@sjdigital.org)
[debug] [2024-04-21T13:44:18.848Z] [iam] checking project medicine-ba560 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-04-21T13:44:18.849Z] > refreshing access token with scopes: []
[debug] [2024-04-21T13:44:18.850Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-04-21T13:44:18.850Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-21T13:44:18.987Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2024-04-21T13:44:18.987Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-21T13:44:18.987Z] [iam] error while checking permissions, command may fail: FirebaseError: Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2024-04-21T13:44:18.987Z] > refreshing access token with scopes: []
[debug] [2024-04-21T13:44:18.988Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-04-21T13:44:18.988Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-21T13:44:19.118Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2024-04-21T13:44:19.118Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2024-04-21T13:44:19.124Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2024-04-21T13:44:19.124Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-21T13:44:19.124Z] [functions] service account IAM check errored, deploy may fail: Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci {"name":"FirebaseError","children":[],"exit":1,"message":"Authentication Error: Your credentials are no longer valid. Please run \u001b[1mfirebase login --reauth\u001b[22m\n\nFor CI servers and headless environments, generate a new token with \u001b[1mfirebase login:ci\u001b[22m","status":500}
[info] 
[info] === Deploying to 'medicine-ba560'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2024-04-21T13:44:24.620Z] > refreshing access token with scopes: []
[debug] [2024-04-21T13:44:24.621Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-04-21T13:44:24.621Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-21T13:44:24.767Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2024-04-21T13:44:24.767Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-21T13:44:24.767Z] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2024-04-21T13:44:24.768Z] FirebaseError: Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
    at invalidCredentialError (C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\auth.js:142:12)
    at refreshTokens (C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\auth.js:515:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Client.getAccessToken (C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\apiv2.js:163:22)
    at async Client.addAuthHeader (C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\apiv2.js:154:21)
    at async Client.request (C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\apiv2.js:105:34)
    at async getFirebaseProject (C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\management\projects.js:295:21)
    at async needProjectNumber (C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\projectUtils.js:46:22)
    at async prepare (C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\prepare.js:34:27)
    at async chain (C:\Users\scott\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\index.js:38:9)
[error] 
[error] Error: Failed to get Firebase project medicine-ba560. Please make sure the project exists and your account has permission to access it.
